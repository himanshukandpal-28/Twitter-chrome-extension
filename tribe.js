/******/ (() => { // webpackBootstrap
  var __webpack_exports__ = {};
  /*!***********************!*\
    !*** ./src/tribe.js ***!
    \***********************/
  
  window.addEventListener('storage', async (e) => {
    console.log('LOCALSTORAGE CHSANGES XXX'); // this never fires after logging a user in.
    console.log('=== LOCALSTORAGE: e.key:', e.key);
    console.log('=== LOCALSTORAGE: e.newValue:', e.newValue);
  
    if (e.key === 'ttw_usage' && e.newValue !== usage) {
      usage = e.newValue;
      chrome.storage.sync.set({ 'ttw_usage': e.newValue });
      console.log('=== LOCALSTORAGE AFTER SAVING: usage', usage);
    }
  });

        
      
  chrome.storage.onChanged.addListener(function(changes, namespace) {
    console.log("changes received!", changes);
    console.log("changes received!", namespace);
  });

  // service-worker.ts
  function storageOnChanged(changes, namespace) {
    console.log('changes in LS', changes); // {key : { newValue: 'value' }}
  }
  // chrome.storage.sync.setAccessLevel({ accessLevel: 'TRUSTED_AND_UNTRUSTED_CONTEXTS' });
  chrome.storage.sync.onChanged.addListener(storageOnChanged);
  
  /******/ })()
  ;
  //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5qZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1EQUFtRCxPQUFPO0FBQzFELElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMERBQTBELGtCQUFrQjs7QUFFNUU7QUFDQTtBQUNBLGlCQUFpQiwrQkFBK0I7QUFDaEQ7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixzQkFBc0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsc0JBQXNCO0FBQ25HO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ21haWwtbWFpbC10cmFja2VyLy4vc3JjL2luamVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0cml2ZUxvYWRlZXJBbmltYXRpb24gPSBgXG48c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkw3XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDEwMCAxMDBcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuIDxwYXRoIGZpbGw9XCIjZmZmXCIgZD1cIk0zMS42LDMuNUM1LjksMTMuNi02LjYsNDIuNywzLjUsNjguNGMxMC4xLDI1LjcsMzkuMiwzOC4zLDY0LjksMjguMWwtMy4xLTcuOWMtMjEuMyw4LjQtNDUuNC0yLTUzLjgtMjMuM1xuICBjLTguNC0yMS4zLDItNDUuNCwyMy4zLTUzLjhMMzEuNiwzLjV6XCI+XG4gICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPVwidHJhbnNmb3JtXCIgYXR0cmlidXRlVHlwZT1cIlhNTFwiIHR5cGU9XCJyb3RhdGVcIiBkdXI9XCIyc1wiIGZyb209XCIwIDUwIDUwXCIgdG89XCIzNjAgNTAgNTBcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIj48L2FuaW1hdGVUcmFuc2Zvcm0+XG4gIDwvcGF0aD5cbiA8cGF0aCBmaWxsPVwiI2ZmZlwiIGQ9XCJNNDIuMywzOS42YzUuNy00LjMsMTMuOS0zLjEsMTguMSwyLjdjNC4zLDUuNywzLjEsMTMuOS0yLjcsMTguMWw0LjEsNS41YzguOC02LjUsMTAuNi0xOSw0LjEtMjcuN1xuICBjLTYuNS04LjgtMTktMTAuNi0yNy43LTQuMUw0Mi4zLDM5LjZ6XCI+XG4gICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPVwidHJhbnNmb3JtXCIgYXR0cmlidXRlVHlwZT1cIlhNTFwiIHR5cGU9XCJyb3RhdGVcIiBkdXI9XCIxc1wiIGZyb209XCIwIDUwIDUwXCIgdG89XCItMzYwIDUwIDUwXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCI+PC9hbmltYXRlVHJhbnNmb3JtPlxuICA8L3BhdGg+XG4gPHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTgyLDM1LjdDNzQuMSwxOCw1My40LDEwLjEsMzUuNywxOFMxMC4xLDQ2LjYsMTgsNjQuM2w3LjYtMy40Yy02LTEzLjUsMC0yOS4zLDEzLjUtMzUuM3MyOS4zLDAsMzUuMywxMy41XG4gIEw4MiwzNS43elwiPlxuICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT1cInRyYW5zZm9ybVwiIGF0dHJpYnV0ZVR5cGU9XCJYTUxcIiB0eXBlPVwicm90YXRlXCIgZHVyPVwiMnNcIiBmcm9tPVwiMCA1MCA1MFwiIHRvPVwiMzYwIDUwIDUwXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCI+PC9hbmltYXRlVHJhbnNmb3JtPlxuICA8L3BhdGg+XG48L3N2Zz5cbmA7XG5cbmNvbnN0IHRyaXZlTG9hZGluZyA9IChzdGF0ZSwgYnV0dG9uKSA9PiB7XG4gIHRyeSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRyaXZlX19idXR0b25bcm9sZT1cIiR7YnV0dG9ufVwiXWApLmRpc2FibGVkID0gc3RhdGU7XG4gIH0gY2F0Y2ggKGUpIHt9XG59O1xuXG5jb25zdCB0cml2ZVByb2dyZXNzID0gKHN0YXRlKSA9PiB7XG4gIGlmIChzdGF0ZSkge1xuICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbG9hZGVyLmNsYXNzTmFtZSA9IFwidHJpdmVMb2FkZXJcIjtcbiAgICBsb2FkZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJsZHMtcm9sbGVyXCI+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PmA7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIikuYXBwZW5kQ2hpbGQobG9hZGVyKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnRyaXZlTG9hZGVyXCIpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHNheVRyaXZlID0gKCkgPT4ge1xuICBjb25zdCBhbnN3ZXJGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXZbY29udGVudGVkaXRhYmxlPXRydWVdXCIpO1xuICBhbnN3ZXJGaWVsZC5mb2N1cygpO1xuICBjb25zdCB0ZXh0TGluZXMgPSBbXG4gICAgYNCd0LDQtCDRgdC10LTQvtC5INGA0LDQstC90LjQvdC+0Lkg0LzQvtGA0Y8g0LLQtdGC0LXRgCDRgtGD0YfQuCDRgdC+0LHQuNGA0LDQtdGCLiDQnNC10LbQtNGDINGC0YPRh9Cw0LzQuCDQuCDQvNC+0YDQtdC8INCz0L7RgNC00L4g0YDQtdC10YIg0JHRg9GA0LXQstC10YHRgtC90LjQuiwg0YfQtdGA0L3QvtC5INC80L7Qu9C90LjQuCDQv9C+0LTQvtCx0L3Ri9C5LmAsXG4gICAgYNCi0L4g0LrRgNGL0LvQvtC8INCy0L7Qu9C90Ysg0LrQsNGB0LDRj9GB0YwsINGC0L4g0YHRgtGA0LXQu9C+0Lkg0LLQt9C80YvQstCw0Y8g0Log0YLRg9GH0LDQvCwg0L7QvSDQutGA0LjRh9C40YIsINC4IOKAlCDRgtGD0YfQuCDRgdC70YvRiNCw0YIg0YDQsNC00L7RgdGC0Ywg0LIg0YHQvNC10LvQvtC8INC60YDQuNC60LUg0L/RgtC40YbRiy5gLFxuICBdO1xuXG4gIHRyaXZlUHJvZ3Jlc3ModHJ1ZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJzZWxlY3RBbGxcIiwgZmFsc2UsIG51bGwpO1xuICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9FbmQoKTtcbiAgICAvLyBkb2N1bWVudC5leGVjQ29tbWFuZChcImluc2VydFBhcmFncmFwaFwiLCBmYWxzZSwgbnVsbCk7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpbnNlcnRUZXh0XCIsIGZhbHNlLCB0ZXh0TGluZXNbaV0pO1xuICB9XG4gIHNldFRpbWVvdXQodHJpdmVQcm9ncmVzcywgNTAwMCwgZmFsc2UpO1xufTtcblxuY29uc3QgY2FsbFRyaXZlID0gKCkgPT4ge1xuICBjb25zdCBhbnN3ZXJGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXZbY29udGVudGVkaXRhYmxlPXRydWVdXCIpO1xuICBjb25zdCBtc2dUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdltkYXRhLXRlc3RpZD10d2VldFRleHRdXCIpO1xuXG4gIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgXCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgc2sta2pHYzVIdVZMU1NFd2RJemNCV09UM0JsYmtGSlFXbXBMNk9TbDhEc1VvQ1N0dldpXCIsXG4gIH07XG5cbiAgY29uc3QgcHJvbXB0ID0gYCBDcmVhdGUgYSBzaG9ydCBjb21tZW50IHRvIHRoZSBwb3N0OiBcIiR7bXNnVGV4dC5pbm5lclRleHR9XCJgO1xuXG4gIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgbW9kZWw6IFwiZ3B0LTMuNS10dXJib1wiLFxuICAgIG1lc3NhZ2VzOiBbeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogcHJvbXB0IH1dLFxuICAgIG1heF90b2tlbnM6IDcwLFxuICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gIH0pO1xuXG4gIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zXCI7XG5cbiAgLy8gdHJpdmVQcm9ncmVzcyh0cnVlKTtcbiAgdHJpdmVMb2FkaW5nKHRydWUsIFwiY2FsbGFwaVwiKTtcblxuICBmZXRjaCh1cmwsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJ0cml2ZSBkYXRhOiBcIiwgZGF0YSk7XG4gICAgICBjb25zdCBjb21tZW50ID0gZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgY29uc3QgdGV4dExpbmVzID0gY29tbWVudC5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnNwbGl0KFwiXFxuXCIpO1xuXG4gICAgICBhbnN3ZXJGaWVsZC5mb2N1cygpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJzZWxlY3RBbGxcIiwgZmFsc2UsIG51bGwpO1xuICAgICAgICBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS5jb2xsYXBzZVRvRW5kKCk7XG4gICAgICAgIC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5zZXJ0UGFyYWdyYXBoXCIsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpbnNlcnRUZXh0XCIsIGZhbHNlLCB0ZXh0TGluZXNbaV0pO1xuICAgICAgfVxuICAgICAgdHJpdmVMb2FkaW5nKGZhbHNlLCBcImNhbGxhcGlcIik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwidHJpdmUgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIHRyaXZlTG9hZGluZyhmYWxzZSwgXCJjYWxsYXBpXCIpO1xuICAgIH0pO1xufTtcblxuY29uc3QgdHJpdmVRdW90ZVRleHQgPSAoKSA9PiB7XG4gIGNvbnN0IG1zZ1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2W2RhdGEtdGVzdGlkPXR3ZWV0VGV4dF1cIik7XG4gIGNvbnN0IGFuc3dlckZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdltjb250ZW50ZWRpdGFibGU9dHJ1ZV1cIik7XG4gIGNvbnN0IHF1b3RlVGV4dCA9IG1zZ1RleHQuaW5uZXJUZXh0LnJlcGxhY2UoXCJcXHJcIiwgXCJcIikuc3BsaXQoXCJcXG5cIik7XG5cbiAgdHJ5IHtcbiAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgYW5zd2VyRmllbGQuZm9jdXMoKTtcbiAgICAgIC8vIGFuc3dlckZpZWxkLnNlbGVjdCgpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1b3RlVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcInNlbGVjdEFsbFwiLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIGRvY3VtZW50LmdldFNlbGVjdGlvbigpLmNvbGxhcHNlVG9FbmQoKTtcbiAgICAgICAgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJpbnNlcnRQYXJhZ3JhcGhcIiwgZmFsc2UsIG51bGwpO1xuICAgICAgICB2YXIga2V5Ym9hcmRFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5cHJlc3NcIiwge1xuICAgICAgICAgIGNvZGU6IFwiRW50ZXJcIixcbiAgICAgICAgICBrZXk6IFwiRW50ZXJcIixcbiAgICAgICAgICBjaGFyS29kZTogMTMsXG4gICAgICAgICAga2V5Q29kZTogMTMsXG4gICAgICAgICAgdmlldzogd2luZG93LFxuICAgICAgICB9KTtcblxuICAgICAgICBhbnN3ZXJGaWVsZC5kaXNwYXRjaEV2ZW50KGtleWJvYXJkRXZlbnQpO1xuXG4gICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGV4dFwiLCBmYWxzZSwgcXVvdGVUZXh0W2ldKTtcbiAgICAgIH1cbiAgICAgIC8vIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5zZXJ0UGFyYWdyYXBoXCIsIGZhbHNlLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCA9IG1zZ1RleHQuaW5uZXJUZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJ0cml2ZSBmYXRhbDo6XCIsIGUpO1xuICB9XG59O1xuXG5jb25zdCB0cml2ZUFwcGVuZEJ1dHRvbnMgPSAodG9vbEJhcikgPT4ge1xuICBjb25zdCB0cml2ZUJ1dHRvbnMgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidHJpdmVfX2J1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidHJpdmVfX2J1dHRvblwiIHJvbGU9XCJxdW90ZVwiPlF1b3RlPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRyaXZlX19idXR0b25cIiByb2xlPVwidHJpdmVcIj5OZXc8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidHJpdmVfX2J1dHRvblwiIHJvbGU9XCJjYWxsYXBpXCI+PHNwYW4+Q2FsbEFQSTwvc3Bhbj4ke3RyaXZlTG9hZGVlckFuaW1hdGlvbn08L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICBjb25zdCB0cml2ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRyaXZlRGl2LmNsYXNzTmFtZSA9IFwidHJpdmVfX3dyYXBwZXJcIjtcbiAgdHJpdmVEaXYuaW5uZXJIVE1MID0gdHJpdmVCdXR0b25zO1xuXG4gIHRyaXZlRGl2XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25bcm9sZT1xdW90ZV1cIilcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRyaXZlUXVvdGVUZXh0KTtcblxuICB0cml2ZURpdlxuICAgIC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uW3JvbGU9dHJpdmVdXCIpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzYXlUcml2ZSk7XG5cbiAgdHJpdmVEaXZcbiAgICAucXVlcnlTZWxlY3RvcihcImJ1dHRvbltyb2xlPWNhbGxhcGldXCIpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjYWxsVHJpdmUpO1xuXG4gIHRvb2xCYXIucGFyZW50Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICB0cml2ZURpdixcbiAgICB0b29sQmFyLnBhcmVudE5vZGUucGFyZW50Tm9kZS5jaGlsZHJlblswXVxuICApO1xufTtcblxuY29uc3QgdHJpdmVJbmplY3QgPSAobikgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi50cml2ZV9fYnV0dG9uc1wiKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0b29sQmFyQ29udiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJ2RpdlthcmlhLWxhYmVsPVwiVGltZWxpbmU6IENvbnZlcnNhdGlvblwiXSBkaXZbZGF0YS10ZXN0aWQ9dG9vbEJhcl0nXG4gICk7XG4gIGNvbnN0IHRvb2xCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgIFwiZGl2W2FyaWEtbGFiZWxsZWRieT1tb2RhbC1oZWFkZXJdIGRpdltkYXRhLXRlc3RpZD10b29sQmFyXVwiXG4gICk7XG4gIGlmICh0b29sQmFyIHx8IHRvb2xCYXJDb252KSB7XG4gICAgdHJpdmVBcHBlbmRCdXR0b25zKHRvb2xCYXIgfHwgdG9vbEJhckNvbnYpO1xuICB9IGVsc2Uge1xuICAgIGlmIChuIDwgNTApIHtcbiAgICAgIHNldFRpbWVvdXQodHJpdmVJbmplY3QsIDIwMCwgbiArIDEpO1xuICAgIH1cbiAgfVxufTtcblxuaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0ID09IFwidHdpdHRlci5jb21cIikge1xuICB0cml2ZUluamVjdCgxKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==